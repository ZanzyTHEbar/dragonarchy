# systemd-logind configuration for Dragon workstation
# Prevents hard power-off when idle, enables proper suspend

[Login]
# Handle power button - suspend instead of poweroff
HandlePowerKey=suspend
HandlePowerKeyLongPress=poweroff

# Handle lid switch (if applicable)
HandleLidSwitch=suspend
HandleLidSwitchExternalPower=suspend

# Idle behavior - suspend after timeout
IdleAction=suspend
IdleActionSec=30min

# Don't kill user processes on logout (preserve session state)
KillUserProcesses=no

# Inhibit delays - allow processes time to prepare for suspend
InhibitDelayMaxSec=30s

# Power button can wake from suspend
HandleSuspendKey=suspend
HandleHibernateKey=hibernate
HandleRebootKey=reboot

