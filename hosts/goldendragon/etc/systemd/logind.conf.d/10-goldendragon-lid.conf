# GoldenDragon Laptop - systemd-logind Configuration
# Lenovo ThinkPad P16s Gen 4 (Intel)
#
# Notes:
# - We let Hypridle manage idle; logind only handles lid/power keys.
# - Do NOT restart systemd-logind during an active session (it can terminate the session).

[Login]
# Lid close behavior
HandleLidSwitch=suspend
HandleLidSwitchExternalPower=suspend
HandleLidSwitchDocked=ignore

# Power keys
HandlePowerKey=suspend
HandleSuspendKey=suspend
HandleHibernateKey=hibernate

# Idle is handled by hypridle
IdleAction=ignore
IdleActionSec=30min

# Give apps/WM time to prepare for suspend/hibernate
InhibitDelayMaxSec=30s

# Session hygiene
KillUserProcesses=no
RemoveIPC=yes

