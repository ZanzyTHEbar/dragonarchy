# GoldenDragon TLP Configuration - ThinkPad P16s Gen 4 (Intel)
#
# Goals:
# - Good battery life without killing interactivity
# - Safe defaults that are stable across Intel iGPU-only and Intel+NVIDIA configs
# - Battery charge thresholds (ThinkPad-supported) to extend battery lifespan

# CPU energy/performance policy
CPU_ENERGY_PERF_POLICY_ON_AC=balance_performance
CPU_ENERGY_PERF_POLICY_ON_BAT=balance_power

# CPU boost policy
CPU_BOOST_ON_AC=1
CPU_BOOST_ON_BAT=0

# CPU min/max perf caps
CPU_MIN_PERF_ON_AC=0
CPU_MAX_PERF_ON_AC=100
CPU_MIN_PERF_ON_BAT=0
CPU_MAX_PERF_ON_BAT=80

# Platform profile (if supported by firmware)
PLATFORM_PROFILE_ON_AC=balanced
PLATFORM_PROFILE_ON_BAT=balanced

# WiFi power saving
WIFI_PWR_ON_AC=off
WIFI_PWR_ON_BAT=auto

# PCIe Active State Power Management
PCIE_ASPM_ON_AC=default
PCIE_ASPM_ON_BAT=default

# USB autosuspend (with exclusions for common troublemakers)
USB_AUTOSUSPEND=1
USB_EXCLUDE_AUDIO=1
USB_EXCLUDE_BTUSB=1
USB_EXCLUDE_PHONE=0
USB_EXCLUDE_PRINTER=1
USB_EXCLUDE_WWAN=0

# Runtime power management (let kernel decide)
RUNTIME_PM_ON_AC=auto
RUNTIME_PM_ON_BAT=auto

# ThinkPad battery thresholds (if supported)
START_CHARGE_THRESH_BAT0=75
STOP_CHARGE_THRESH_BAT0=80

# Audio power saving
SOUND_POWER_SAVE_ON_AC=0
SOUND_POWER_SAVE_ON_BAT=1
SOUND_POWER_SAVE_CONTROLLER=Y

# Restore device state on startup (avoid wake issues)
RESTORE_DEVICE_STATE_ON_STARTUP=1

