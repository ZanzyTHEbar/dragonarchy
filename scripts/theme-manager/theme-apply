#!/usr/bin/env bash
set -euo pipefail

# Apply a theme from menus:
# - clears any preview-session snapshot (commit)
# - runs theme-set
#
# Usage: theme-apply <theme-slug>

SCRIPT_PATH="$(readlink -f "${BASH_SOURCE[0]}")"
SCRIPT_DIR="$(cd "$(dirname "$SCRIPT_PATH")" && pwd)"

"$SCRIPT_DIR/theme-preview-clear" || true
export DRAGON_SKIP_WALKER_RESTART=1
exec "$SCRIPT_DIR/theme-set" "$@"

